Generalize download functionality to non-HTTP URL schemes