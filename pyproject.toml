# PEP 518, 621, 639 (draft)

[project]
name = "curldl"
version = "0.1.0"
description = "Safely and reliably download files with PycURL"
keywords = ["cURL", "PycURL", "download"]

readme = "README.md"
license = {text = "LGPL-3.0-or-later"}

authors = [{name = "Michael Orlov", email = "orlovm@noexec.org"}]
classifiers = [
    "Programming Language :: Python",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Development Status :: 4 - Beta"
]

requires-python = ">=3.8"
dependencies = [
    "pycurl",
    "tenacity",
    "tqdm"
]

[project.optional-dependencies]
environment = [
    "ipython",
    "pipdeptree",
    "pip-autoremove"
]

test = [
    "pytest",
    "pytest-cov",
    "pytest-datadir",
    "pytest-localserver",
    "pytest-mock",
    "pytest-mypy",
    "pytest-openfiles",
    "pytest-pylint",
    "pytest-regressions",
    "pytest-repeat",
    "pytest-subtests",
    "pytest-sugar",
    "pytest-timeout",
    "toml",
    "types-pycurl",
    "types-toml"
]

[project.urls]
repository = "https://github.com/noexec/curldl"

[project.scripts]
curldl = "curldl.cli:main"

[build-system]
requires = ["setuptools", "wheel"]

[tool.pytest.ini_options]
pythonpath = ["src"]
testpaths = ["tests", "src"]

filterwarnings = [
    "ignore:::pytest_pylint.plugin",
    "ignore:::pytest_pylint.pylint_util"
]

[tool.pylint.main]
py-version = "3.8"

[tool.pylint.format]
expected-line-ending-format = "LF"
max-line-length = 120

[tool.pylint.design]
min-public-methods = 1
max-args = 8

[tool.mypy]
warn_unused_configs = true

allow_redefinition = true
warn_unreachable = true

disallow_untyped_calls = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
disallow_untyped_decorators = true
warn_incomplete_stub = true

disallow_any_explicit = true
disallow_any_generics = true
disallow_subclassing_any = true
warn_return_any = true
